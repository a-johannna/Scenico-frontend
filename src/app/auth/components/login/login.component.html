<div class="background">
  <div class="login-card">
    <div class="title-oval">
      <h2>Iniciar Sesión</h2>
    </div>

    <h4>¡Haz qué el mundo te mire!</h4>

    <!-- Mostrar errores del servidor -->
    <div *ngIf="errorMessages.length" class="error-message">
      <ul>
        <li *ngFor="let msg of errorMessages">{{ msg }}</li>
      </ul>
    </div>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">

      <div class="form-group">
        <label for="email">Correo electrónico</label>
        <input
          type="email"
          id="email"
          formControlName="email"
          [ngClass]="{ 'is-invalid': submitted && loginForm.get('email')?.invalid }"
        />
        <div *ngIf="submitted && loginForm.get('email')?.errors?.['required']" class="invalid-feedback">
          El correo es obligatorio.
        </div>
        <div *ngIf="submitted && loginForm.get('email')?.errors?.['email']" class="invalid-feedback">
          El formato del correo no es válido.
        </div>
      </div>

      <div class="form-group">
        <label for="password">Contraseña</label>
        <input
          type="password"
          id="password"
          formControlName="password"
          [ngClass]="{ 'is-invalid': submitted && loginForm.get('password')?.invalid }"
        />
        <div *ngIf="submitted && loginForm.get('password')?.errors?.['required']" class="invalid-feedback">
          La contraseña es obligatoria.
        </div>
      </div>

      <!-- Enlaces debajo de los campos -->
      <div class="form-links">
        <button type="button" class="link-button" (click)="forgotPassword()">¿Olvidaste tu contraseña?</button>
        <button type="button" class="link-button" (click)="createUser()">¿No tienes Cuenta? Regístrate</button>
      </div>

      <button type="submit">Entrar</button>
    </form>
  </div>
</div>
