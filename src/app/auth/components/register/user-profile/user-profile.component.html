<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Perfil - Scénico</title>
</head>
<body>

<!-- Barra de navegación superior -->
<div class="navbar">


    <div class="navbar-title">Scénico</div>

  <div class="navbar-center">
    <input type="text" placeholder="Buscar..." class="navbar-search" />
  </div>

  <div class="navbar-right">
    <button (click)="explorarPortafolios()">Home</button>

    <button (click)="openEditDialog()">Editar Perfil</button>
    <button (click)="openAdvancedSettings()">Salir</button>
  </div>
</div>

<!-- Contenido general -->
<div class="profile-wrapper">

  <div class="profile-container" *ngIf="user">
    <div class="profile-header">
      <img *ngIf="user.photoProfile" [ngSrc]="user.photoProfile" [width]="100" [height]="100" alt="Foto de perfil"
           class="profile-image"/>
      <div *ngIf="!user.photoProfile" class="profile-placeholder">Sin imagen</div>

      <div class="profile-info">
        <h2>{{ user.firstName }} {{ user.lastName }}</h2>
        <h4>{{ user.username }}</h4>
      </div>
    </div>

    <div class="profile-description" *ngIf="user.description">
      <p>{{ user.description }}</p>
    </div>

    <div class="profile-buttons">
      <button (click)="openEditDialog()">Seguidores</button>
    </div>
    <br>
    <br>
<hr>
    <div class="profile-buttons center-align">
      <button mat-raised-button color="primary" (click)="abrirFormularioPortafolio()">
        Añadir Portafolio
      </button>
    </div>
  </div>

  <div *ngIf="user" class="profile-container">
    <h3>Portafolios creados</h3>

    <div *ngIf="portafolios.length > 0; else sinPortafolios">
      <div *ngFor="let p of portafolios" class="portfolio-card">
        <div class="portfolio-content">
        <div class="portfolio-info">
        <h4>{{ p.titulo }}</h4>
        <p><strong>Descripción:</strong> {{ p.descripcion }}</p>
        <p><strong>Archivo:</strong> <a [href]="p.urlArchivo" target="_blank">{{ p.urlArchivo }}</a></p>
        <p><strong>Imagen:</strong> <a [href]="p.urlImagen" target="_blank">{{ p.urlImagen }}</a></p>
        <p><strong>Descripción Imagen:</strong> {{ p.descripcionImagen }}</p>
        <p><strong>Etiquetas:</strong> {{ p.etiquetas }}</p>
      </div>
        <div class="portfolio-actions">
          <button (click)="editarPortafolio(p)">Editar</button>
          <button (click)="eliminarPortafolio(p.idPortafolio)">Eliminar</button>

      </div>
        </div>
      </div>


    </div>

    <ng-template #sinPortafolios>
      <p>Este usuario aún no ha creado ningún portafolio.</p>
    </ng-template>
  </div>


</div>
</body>
</html>
